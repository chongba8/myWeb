<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        #article{
            margin: 50px;
            padding: 10px;
            width: 300px;
            height: 500px;
            font:20px/26px "宋体";
            border:1px solid #ddd;
        }
        #minbox{
            width: 100px;
            height: 50px;
            background-color: pink;
            overflow: hidden;
            position: absolute;
            top: 0;
            left: 0;
            display:none;

        }
    </style>
    <script>
        window.onload= function () {
            var article=document.getElementById("article");
            var minbox=document.getElementById("minbox");
            article.onmouseup=function(event){
                var event=event||window.event;
                event&&event.stopPropagation()?event.stopPropagation:event.cancelBubble;
                var x=event.clientX;
                var y=event.clientY;
                if(window.getSelection)  // 获取我们选中的文字
                {
                    txt = window.getSelection().toString();   // 转换为字符串
                }
                else
                {
                    txt = document.selection.createRange().text;   // ie 的写法
                }
                if(txt)   // 所有的字符串都为真  "" 是假    所有的数字为真  0  为假
                {
                    //看看有没有选中的文字，没有选中文字为空的，就不应该执行   点击一下鼠标 就是空的
                    show(x,y,txt);  // 调用函数
                }
            }
            function show(x,y,contenttxt){
                minbox.style.display="block";
                minbox.style.left=x+"px";
                minbox.style.top=y+"px";
                minbox.innerHTML=contenttxt;
            }
            document.onmousedown=function(event){
                var event=event||window.event;
               var targetid= event.target? event.target.id:event.srcElement.id;
                if(targetid!="minbox"){
                    minbox.style.display="none";
                }
            }
        }
    </script>

</head>
<body>
<div id="article">
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
    如果一医生田发我是否所以决定要nvuao99o激素方
</div>
<div id="minbox"></div>
</body>
</html>